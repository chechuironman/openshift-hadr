apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: machinesets
  annotations:
    argocd.argoproj.io/sync-wave: "100"
  finalizers:
    - resources-finalizer.argocd.argoproj.io
spec:
  destination:
    namespace: tools
    server: https://kubernetes.default.svc
  project: infra
  source:
    path: machinesets-v2
    repoURL: https://github.com/chechuironman/ocp-ipi-infra
    targetRevision: master
    helm:
      values: |
        machinesets-v2:
          infrastructureId: "batman-khws4"
          cloud:
            name: vsphere
            managed: false # for roks, aro, rosa set to true
            region: 
            zones:
              - 1
            aws:
              ami:
            azure:
              resourceGroup:
              networkResourceGroup:
              virtualNetwork:
              workerSubnet:
            vsphere:
              networkName:  vxw-dvs-1195-virtualwire-259-sid-6000-172.20.0.0_LS
              datacenter: Dallas10
              datastore: SL02SL307608-25
              cluster: DAL10 Compute Cluster
              server: vcsa.vmware.chechu.com
              folder: batman

          machineset:
            name: myMachine
            clusterRole: worker
            clusterType: worker
            nodesPerZone: {}
            memoryMiB: 16384
            numCPUs: 4
            numCoresPerSocket: 1
            volumeSize: 128
            volumeType: 
            instanceType:
            taints: {}
            labels: {}
  syncPolicy:
    automated:
      prune: true
      selfHeal: true

