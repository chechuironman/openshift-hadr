apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: cnsa
  annotations:
    argocd.argoproj.io/sync-wave: "100"
  finalizers:
    - resources-finalizer.argocd.argoproj.io
spec:
  destination:
    namespace: cnsa
    server: https://kubernetes.default.svc
  project: infra
  source:
    path: cnsa
    repoURL: https://github.com/chechuironman/roks-infra
    targetRevision: master
    helm:
      values: |
        cnsa:
          cnsa:
            csi_secret: csi-remote-mount-storage-cluster-1csi-remote-mount-storage-cluster-1
            cnsa_secret: cnsa-remote-mount-storage-cluster-1
            fqdn_1: spectrum-scale-1.chechu.com
            fqdn_2: spectrum-scale-2.chechu.com
            fqdn_3: spectrum-scale-3.chechu.com
            cluster_name: batman-spectrum-1
            ip_1: 70.85.40.4
            ip_2: 70.85.40.5
            ip_3: 70.85.40.6
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
